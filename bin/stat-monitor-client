#!/usr/bin/ruby

#This file is an executable that serves as the client program for the stat monitor.
#It runs as a daemon on each monitored machine.
#
#Its configuration file is stored in /etc/stat-monitor/client.rc.

$LOAD_PATH << '/usr/share/statmonitor/lib/' << '/usr/share/statmonitor/ext/'

require 'rubygems'

require 'statmonitor/client'

config = StatMonitor::Config.new('/etc/stat-monitor/client.rc')

client = StatMonitor::Client.new(config)

#To do: switch on existence of snapshot test mode?
client.daemonize()

client.run()

